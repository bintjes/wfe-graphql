# WFE api

map database model, this code is for my educational purpose and recreational ones (well not quite true on this one) .



## Install

### Requirements

 * Accessible MySQL >=5.6 database with the appropriate mysql db schema  
 * Nodejs >= 6.4
 * yarn or npm
 * a valid access to dalet api

### Settings

Sensitive credentials are not setup in the config : you must add  a `config.yml` into the `config` folder by 
copying the `config-dist.yml` file.

Change the setting to match your required informations.

### Documentation

The api graphql documentation is generated by the `graphql-docs` package. You can install it by running the command below.

```shell
yarn global add graphql-docs
```

or with npm 

```shell
npm install graphql-docs -g
```

## Usage

You can run server with the following command :

```shell
yarn start
```

## Graphql

Reach the graphql endpoint by posting request at `http://localhost:4009/graphql`

A graphiql is available for testing your graphql request by pointing your browser at `http://localhost:4009/graphiql`


## Documentation

To generate documentation you need to run the command below :

```shell
yarn doc
```
The generated documentation is at `http://localhost:4009/doc`

To document your graphql you can use the graphql comment who is a hash (#) begin line.
You can use several line to comment by adding a `<br />` at the end of line.

The documentation system support markdown syntax.

## Development

If you want autoreload of the server on file save :

```shell
yarn run dev
```
